<%= render partial: 'shared/breadcrumbs', locals: { links: [{ title: t('users.index.title'), url: users_path }, { title: @user.nickname, url: user_path(@user) }], title: t('actions.edit_record.user') } %>

<div class="row">
  <div class="col-md-6 col-xl-4">
    <%= form_with(model: @user, url: admin_user_path) do |form| %>
      <div class="d-grid gap-3">
        <% if @user.errors.any? %>
          <div id="error_explanation">
            <h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>

            <ul>
              <% @user.errors.each do |error| %>
                <li><%= error.full_message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="field">
          <%= form.label :role, class: 'form-label' %>
          <%= form.select :role, User.roles.keys, { include_blank: false }, class: 'form-select' %>
        </div>

        <div class="actions">
          <%= form.submit nil, class: 'btn btn-primary', data: { confirm: t('are_you_sure') } %>
        </div>
      </div>
    <% end %>
  </div>
</div>
